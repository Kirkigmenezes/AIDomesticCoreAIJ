{
  "infrastructure": {
    "cloud_provider": "AWS",
    "regions": ["us-east-1", "eu-west-1", "ap-southeast-1"],
    "compute": {
      "ec2": {
        "api_instances": {
          "type": "t3.xlarge",
          "count": 5,
          "auto_scaling_enabled": true,
          "min_count": 3,
          "max_count": 20,
          "root_volume_size_gb": 100,
          "monitoring": "detailed"
        },
        "worker_instances": {
          "type": "c5.2xlarge",
          "count": 3,
          "auto_scaling_enabled": true,
          "min_count": 2,
          "max_count": 10,
          "root_volume_size_gb": 200,
          "gpu_enabled": true,
          "gpu_type": "T4"
        }
      },
      "eks": {
        "enabled": true,
        "version": "1.27",
        "node_groups": [
          {
            "name": "general",
            "instance_types": ["t3.xlarge", "t3.2xlarge"],
            "desired_size": 5,
            "min_size": 3,
            "max_size": 20
          },
          {
            "name": "compute",
            "instance_types": ["c5.2xlarge", "c5.4xlarge"],
            "desired_size": 3,
            "min_size": 2,
            "max_size": 10
          },
          {
            "name": "gpu",
            "instance_types": ["g4dn.xlarge", "g4dn.2xlarge"],
            "desired_size": 2,
            "min_size": 1,
            "max_size": 5,
            "gpu_count": 1
          }
        ]
      }
    },
    "storage": {
      "s3": {
        "buckets": [
          {
            "name": "aiplatform-datasets",
            "versioning": true,
            "replication": "cross-region",
            "encryption": "SSE-S3"
          },
          {
            "name": "aiplatform-logs",
            "retention_days": 90,
            "transition_to_glacier_days": 30
          },
          {
            "name": "aiplatform-backups",
            "retention_days": 365,
            "encryption": "SSE-KMS"
          }
        ]
      },
      "ebs": {
        "volumes": [
          {
            "type": "gp3",
            "size_gb": 1000,
            "iops": 3000,
            "throughput_mbps": 125
          }
        ]
      },
      "efs": {
        "enabled": true,
        "performance_mode": "generalPurpose",
        "throughput_mode": "bursting"
      }
    },
    "database": {
      "rds": {
        "primary": {
          "engine": "postgres",
          "version": "15.2",
          "instance_class": "db.r5.2xlarge",
          "allocated_storage_gb": 1000,
          "max_allocated_storage_gb": 2000,
          "backup_retention_days": 30,
          "multi_az": true,
          "encryption_enabled": true
        },
        "read_replicas": 3,
        "read_replica_regions": ["eu-west-1", "ap-southeast-1"]
      },
      "elasticache": {
        "redis": {
          "engine_version": "7.0",
          "node_type": "cache.r5.large",
          "num_cache_nodes": 3,
          "automatic_failover": true,
          "multi_az": true,
          "automatic_backups": true,
          "backup_retention_days": 7
        }
      },
      "dynamodb": {
        "enabled": true,
        "tables": [
          {
            "name": "sessions",
            "billing_mode": "PAY_PER_REQUEST",
            "ttl_enabled": true,
            "ttl_attribute": "expires_at"
          }
        ]
      }
    },
    "networking": {
      "vpc": {
        "cidr": "10.0.0.0/16",
        "subnets": 6,
        "nat_gateways": 3,
        "vpc_endpoints": 5
      },
      "alb": {
        "type": "application",
        "target_groups": 8,
        "health_check_enabled": true,
        "access_logs_enabled": true
      },
      "nlb": {
        "type": "network",
        "enabled": false
      },
      "cloudfront": {
        "enabled": true,
        "edge_locations": 200,
        "custom_domain": "api.aiplatform.com",
        "certificate_provider": "acm"
      },
      "route53": {
        "hosted_zone": "aiplatform.com",
        "dns_failover_enabled": true
      }
    },
    "security": {
      "iam": {
        "roles": 15,
        "policies": 25,
        "mfa_enforcement": true
      },
      "security_groups": 8,
      "nacls": 4,
      "waf": {
        "enabled": true,
        "rules": 20,
        "rate_limiting": true,
        "geo_blocking_enabled": true
      },
      "shield": {
        "ddos_protection": "standard"
      },
      "kms": {
        "enabled": true,
        "key_rotation_days": 90
      },
      "secrets_manager": {
        "enabled": true,
        "auto_rotation_days": 30
      }
    },
    "monitoring": {
      "cloudwatch": {
        "log_groups": 20,
        "custom_metrics": 100,
        "log_retention_days": 30
      },
      "x_ray": {
        "enabled": true,
        "sampling_rate": 0.1
      },
      "trusted_advisor": {
        "enabled": true,
        "check_frequency": "daily"
      },
      "third_party": {
        "datadog": "enabled",
        "new_relic": "enabled",
        "splunk": "enabled"
      }
    }
  },
  "cost_analysis": {
    "monthly_estimate_usd": 50000,
    "breakdown": {
      "compute": 20000,
      "storage": 8000,
      "database": 12000,
      "networking": 5000,
      "monitoring": 3000,
      "other": 2000
    },
    "optimization_opportunities": [
      "Use spot instances for non-critical workloads",
      "Implement auto-scaling based on metrics",
      "Optimize storage with S3 lifecycle policies",
      "Use reserved instances for baseline capacity"
    ]
  }
}
